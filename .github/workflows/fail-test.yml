name: 1. OOM Failure (Minimal Log) Demo

on:
  workflow_dispatch:

jobs:
  oom_failure_demo:
    name: 💀 OOM Killer Test
    # 메모리 고갈을 위해 메모리가 제한적인 환경(예: 기본 GitHub 러너) 사용
    runs-on: ubuntu-latest
    steps:
      - name: Install Python
        # 메모리 사용 스크립트 실행을 위해 Python 설정
        uses: actions/setup-python@v5
        with:
          python-version: '3.x'

      - name: Attempt to Consume Extreme Memory
        run: |
          echo "Attempting to allocate a very large amount of memory to trigger OOM Killer..."
          # Python으로 10GB 할당을 시도하여 러너의 메모리를 고갈시킵니다.
          # (실제 러너 사양에 따라 실패 메시지가 다를 수 있으나, OOM을 유도하는 코드입니다.)
          python -c 'a = " " * (10**10); print("Memory allocation successful (unlikely)")'
